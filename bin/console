#!/usr/local/bin/php
<?php

declare(strict_types=1);

use App\Company\CompanyBuilder;
use App\Company\ReadModel\TickerSymbol;
use App\Company\Summary\CompanyFullNameCrawler;
use App\Company\Summary\EstimateReturnCrawler;
use App\Company\Summary\RecommendationRatingCrawler;
use App\FinYahoo;
use Symfony\Component\HttpClient\HttpClient;

require dirname(__DIR__) . '/vendor/autoload.php';

$finYahoo = new FinYahoo(
    HttpClient::create(),
    new CompanyBuilder(
        new CompanyFullNameCrawler(),
        new EstimateReturnCrawler(),
    )
);

$companies = $finYahoo->crawlStock(
    new TickerSymbol('BABA'),
    new TickerSymbol('AAPL'),
);

dump($companies);
